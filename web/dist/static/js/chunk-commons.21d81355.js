(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"001f":function(e,t,a){e.exports=a.p+"static/img/inclusive-gateway.523a7d3f.svg"},"068d":function(e,t,a){"use strict";a.r(t);var n=a("a9eb"),i=a("2659");t["default"]={en:n["default"],zh:i["default"]}},"07a4":function(e,t,a){"use strict";a.r(t);var n=a("2383"),i=a("a6c4"),o=a("9152"),s=a("4462"),r=a("987a"),c=a("3f6f"),l=a("eda5"),d=a("f934"),u=a("5c8e");t["default"]=function(e){Object(n["default"])(e),Object(i["default"])(e),Object(o["default"])(e),Object(s["default"])(e),Object(r["default"])(e),Object(c["default"])(e),Object(l["default"])(e),Object(d["default"])(e),Object(u["default"])(e)}},1001:function(e,t,a){"use strict";a.r(t);var n=a("d4ec"),i=a("bee2"),o=a("8937"),s=a("7c8a"),r=function(){function e(t){Object(n["a"])(this,e),this._cfgs=Object(o["deepMix"])(this.getDefaultCfg(),t)}return Object(i["a"])(e,[{key:"getDefaultCfg",value:function(){return{container:null}}},{key:"get",value:function(e){return this._cfgs[e]}},{key:"set",value:function(e,t){this._cfgs[e]=t}},{key:"initPlugin",value:function(e){var t=this.get("container"),a=Object(s["a"])('<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" style="opacity:0"/>'),n=t.querySelectorAll("div > .el-collapse-item > .el-collapse-item__wrap > .el-collapse-item__content > img[data-item]");Object(o["each"])(n,(function(t,n){var i=new Function("return "+t.getAttribute("data-item"))();t.addEventListener("dragstart",(function(t){t.dataTransfer.setDragImage(a,0,0),e.set("addNodeDragging",!0),e.set("addModel",i)})),t.addEventListener("dragend",(function(t){e.emit("canvas:mouseup",t),e.set("addNodeDragging",!1),e.set("addModel",null)}))}))}},{key:"destroy",value:function(){this.get("canvas").destroy();var e=this.get("container");e.parentNode.removeChild(e)}}]),e}();t["default"]=r},1097:function(e,t,a){},"19f0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["startEvent"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v("视图文件路径")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入视图文件路径（以view开头）",type:"view",value:e.model.view},on:{input:function(t){e.onChange("view",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"1b27":function(e,t,a){"use strict";a.r(t);a("99af"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("a434"),a("159b");var n=a("5530"),i=a("3b08"),o=function(e,t){var a=[];return e.forEach((function(e){a.find((function(a){return a[t]===e[t]}))||a.push(e)})),a};t["default"]=function(e){e.registerEdge("flow-polyline-round",{options:{style:Object(n["a"])({},i["default"].edgeStyle),stateStyles:{selected:{lineWidth:i["default"].edgeSelectedStyle.lineWidth},hover:{stroke:i["default"].edgeActivedStyle.stroke}}},setState:function(e,t,a){var n=a.getContainer(),i=n.getChildByIndex(0);"selected"===e?t?(i.attr("lineWidth",this.options.stateStyles.selected.lineWidth),i.attr("stroke",this.options.style.stroke)):i.attr("lineWidth",this.options.style.lineWidth):"hover"===e&&(t?i.attr("stroke",this.options.stateStyles.hover.stroke):i.attr("stroke",this.options.style.stroke))},drawShape:function(e,t){this.group=t;var a=this.getShapeStyle(e),n=t.addShape("path",{className:"edge-shape",attrs:a});return n},drawLabel:function(e,t){var a=e.labelCfg||{},n=this.getLabelStyle(e,a,t),o=t.addShape("text",{attrs:n}),s=o.getBBox();return t.addShape("rect",{className:"edge-labelRect",attrs:{x:s.x-i["default"].edgeLabelRectPadding/2,y:s.y-i["default"].edgeLabelRectPadding/2,width:s.width+i["default"].edgeLabelRectPadding,height:s.height+i["default"].edgeLabelRectPadding,fill:"#fff",stroke:"#fff"}}),t.toBack(),o.toFront(),o},afterUpdate:function(e,t){var a=t.getContainer().findByClassName("edge-label"),n=t.getContainer().findByClassName("edge-labelRect");if(a){var o=a.getBBox();n.attr({x:o.x-i["default"].edgeLabelRectPadding/2,y:o.y-i["default"].edgeLabelRectPadding/2,width:o.width+i["default"].edgeLabelRectPadding,height:o.height+i["default"].edgeLabelRectPadding})}},getShapeStyle:function(e){e=this.getPathPoints(e);var t=e.startPoint,a=e.endPoint,o=this.getControlPoints(e),s=[t];o&&(s=s.concat(o)),s.push(a);var r=this.getPath(s),c=this.options.style;return c=e.reverse?Object(n["a"])(Object(n["a"])({},c),{},{lineDash:[1,3]}):Object(n["a"])(Object(n["a"])({},c),{},{lineDash:null}),Object(n["a"])(Object(n["a"])({path:r},c),{},{endArrow:{path:"M 0,0 L 6,-2 Q 5 0,6 2 Z",lineDash:[0,0],fill:i["default"].edgeStyle.stroke}})},getPath:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];if(0===a)t.push(["M",n.x,n.y]);else if(a===e.length-1)t.push(["L",n.x,n.y]);else{var i=e[a-1],o=e[a+1],s=5;(Math.abs(n.y-i.y)>s||Math.abs(n.x-i.x)>s)&&(i.x===n.x?t.push(["L",n.x,n.y>i.y?n.y-s:n.y+s]):i.y===n.y&&t.push(["L",n.x>i.x?n.x-s:n.x+s,n.y]));var r=Math.abs(n.y-o.y),c=Math.abs(n.x-o.x);r>0&&r<s?s=r:c>0&&c<s&&(s=c),i.x!==o.x&&o.x===n.x?t.push(["Q",n.x,n.y,n.x,n.y>o.y?n.y-s:n.y+s]):i.y!==o.y&&o.y===n.y&&t.push(["Q",n.x,n.y,n.x>o.x?n.x-s:n.x+s,n.y])}}return t},getControlPoints:function(e){return e.sourceNode?this.polylineFinding(e.sourceNode,e.targetNode,e.startPoint,e.endPoint,15):e.controlPoints},getExpandedBBox:function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},getExpandedPort:function(e,t){return Math.abs(t.x-e.centerX)/e.width>Math.abs(t.y-e.centerY)/e.height?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},combineBBoxes:function(e,t){var a=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(a+i)/2,centerY:(n+o)/2,minX:a,minY:n,maxX:i,maxY:o,height:o-n,width:i-a}},getBBoxFromVertexes:function(e,t){var a=Math.min(e.x,t.x),n=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y);return{centerX:(a+n)/2,centerY:(i+o)/2,maxX:n,maxY:o,minX:a,minY:i,height:o-i,width:n-a}},vertexOfBBox:function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},crossPointsByLineAndBBox:function(e,t){var a=[];return t.x<e.minX||t.x>e.maxX||(a=a.concat([{x:t.x,y:e.minY},{x:t.x,y:e.maxY}])),t.y<e.minY||t.y>e.maxY||(a=a.concat([{x:e.minX,y:t.y},{x:e.maxX,y:t.y}])),a},getConnectablePoints:function(e,t,a,n){var i=this,o=this.getBBoxFromVertexes(a,n),s=this.combineBBoxes(e,t),r=this.combineBBoxes(e,o),c=this.combineBBoxes(t,o),l=[];l=l.concat(this.vertexOfBBox(r),this.vertexOfBBox(c),this.vertexOfBBox(s));var d={x:s.centerX,y:s.centerY};return[s,r,c,o].forEach((function(e){l=l.concat(i.crossPointsByLineAndBBox(e,d))})),l.push({x:a.x,y:n.y}),l.push({x:n.x,y:a.y}),l},filterConnectablePoints:function(e,t){return e.filter((function(e){return e.x<=t.minX||e.x>=t.maxX||e.y<=t.minY||e.y>=t.maxY}))},AStar:function(e,t,a,n,i){var s,r=this,c=[t],l=[];e=o(this.fillId(e),"id"),e.push(a);var d=function(){var t=void 0;if(c.forEach((function(e,a){e.parent||(e.f=0),t||(t=e),e.f<t.f&&(t=e)})),t.x===a.x&&t.y===a.y)return s=t,"break";c.splice(c.findIndex((function(e){return e.x===t.x&&e.y===t.y})),1),l.push(t);var o=e.filter((function(e){return(e.x===t.x||e.y===t.y)&&!(e.x===t.x&&e.y===t.y)&&!r.crossBBox([n,i],t,e)}));o.forEach((function(e){var n=c.find((function(t){return t.x===e.x&&t.y===e.y})),o=r.getCost(e,t);if(l.find((function(t){return t.x===e.x&&t.y===e.y})));else if(n)e.g>o&&(e.parent=t,e.g=o,e.f=e.g+e.h);else{e.parent=t,e.g=o;var s=r.getCost(e,a);r.crossBBox([i],e,a)&&(s+=i.width/2+i.height/2),e.h=s,e.f=e.g+e.h,c.push(e)}}))};while(c.length>0){var u=d();if("break"===u)break}if(s){var h=[];h.push({x:s.x,y:s.y});while(s.parent)s=s.parent,h.push({x:s.x,y:s.y});return h.reverse()}return[]},crossBBox:function(e,t,a){for(var n=0;n<e.length;n++){var i=e[n];if(t.x===a.x&&i.minX<t.x&&i.maxX>t.x){if(t.y<i.maxY&&a.y>=i.maxY||a.y<i.maxY&&t.y>=i.maxY)return!0}else if(t.y===a.y&&i.minY<t.y&&i.maxY>t.y&&(t.x<i.maxX&&a.x>=i.maxX||a.x<i.maxX&&t.x>=i.maxX))return!0}return!1},getCost:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},getPointBBox:function(e){return{centerX:e.x,centerY:e.y,minX:e.x,minY:e.y,maxX:e.x,maxY:e.y,height:0,width:0}},fillId:function(e){return e.forEach((function(e){e.id=e.x+"-"+e.y})),e},polylineFinding:function(e,t,a,n,i){var o=e&&e.getBBox()?e.getBBox():this.getPointBBox(a),s=t&&t.getBBox()?t.getBBox():this.getPointBBox(n),r=this.getExpandedBBox(o,i),c=this.getExpandedBBox(s,i),l=this.getExpandedPort(r,a),d=this.getExpandedPort(c,n),u=this.getConnectablePoints(r,c,l,d);u=this.filterConnectablePoints(u,r),u=this.filterConnectablePoints(u,c);var h=this.AStar(u,l,d,r,c);return h}},"polyline")}},"20fa":function(e,t,a){e.exports=a.p+"static/img/icon_user.2b39cf22.svg"},"21a1":function(e,t,a){e.exports=a.p+"static/img/icon_signal.0e96b3b6.svg"},2383:function(e,t,a){"use strict";a.r(t);a("4160"),a("159b");t["default"]=function(e){e.registerBehavior("clickSelected",{getDefaultCfg:function(){return{multiple:!1}},getEvents:function(){return{"node:click":"onClick","edge:click":"onClick","edge:mouseover":"onEdgeMouseOver","edge:mouseleave":"onEdgeMouseLeave","canvas:click":"onCanvasClick","node:mouseover":"onNodeMouseOver"}},onClick:function(e){this._clearSelected(),this.graph.setItemState(e.item,"selected",!0);var t=this.graph.get("selectedItems");t||(t=[]),t=[e.item.get("id")],this.graph.set("selectedItems",t),this.graph.emit("afteritemselected",t)},onNodeMouseOver:function(e){"edit"===this.graph.getCurrentMode()?this.graph.setItemState(e.item,"hover",!0):this.graph.setItemState(e.item,"hover",!1)},onEdgeMouseOver:function(e){"edit"!==this.graph.getCurrentMode()||e.item.hasState("selected")||this.graph.setItemState(e.item,"hover",!0)},onEdgeMouseLeave:function(e){"edit"!==this.graph.getCurrentMode()||e.item.hasState("selected")||this.graph.setItemState(e.item,"hover",!1)},onCanvasClick:function(){this._clearSelected(),this.graph.emit("afteritemselected",[])},_clearSubProcessSelected:function(){var e=this,t=this.graph.findAll("node",(function(e){if(e.get("model")){var t=e.get("model").clazz;return"subProcess"===t}return!1}));t.forEach((function(t){var a=t.getContainer(),n=a.subGroup;e._clearGroupSelected(n)}))},_clearGroupSelected:function(e){var t=e.findAll((function(e){var t=e.get("item");return!!t&&t.hasState("selected")}));t.forEach((function(e){var t=e.get("item");t&&t.setState("selected",!1)}))},_clearSelected:function(){var e=this,t=this.graph.findAllByState("node","selected");t.forEach((function(t){e.graph.setItemState(t,"selected",!1)})),t=this.graph.findAllByState("edge","selected"),t.forEach((function(t){e.graph.setItemState(t,"selected",!1)})),this._clearSubProcessSelected(),this.graph.set("selectedItems",[])}})}},"243c":function(e,t,a){e.exports=a.p+"static/img/inclusive-gateway.aef68fe7.svg"},2589:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["label"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.label,placeholder:"请输入标题"},on:{input:function(t){e.onChange("label",t)}}})],1),a("div",{staticClass:"panelRow"},[a("el-checkbox",{attrs:{disabled:e.readOnly,value:!!e.model.hideIcon},on:{change:function(t){return e.onChange("hideIcon",t)}}},[e._v(e._s(e.i18n["hideIcon"]))])],1)])},i=[],o={inject:["i18n"],props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},s=o,r=a("2877"),c=Object(r["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},2659:function(e,t,a){"use strict";a.r(t),t["default"]={label:"标题",hideIcon:"隐藏图标",userTask:"审批节点","userTask.assignType":"指派类型","userTask.assignType.placeholder":"选择一个类型","userTask.assignType.assignee":"受理人","userTask.assignType.assignee.title":"受理人","userTask.assignType.assignee.placeholder":"选择受理人","userTask.assignType.person":"候选人","userTask.assignType.person.title":"候选人","userTask.assignType.person.placeholder":"选择候选人","userTask.assignType.persongroup":"候选组","userTask.assignType.persongroup.title":"候选组","userTask.assignType.persongroup.placeholder":"选择候选组","userTask.dueDate":"到期时间","userTask.dueDate.placeholder":"请选择日期","userTask.counterSign":"会签",scriptTask:"脚本节点","scriptTask.script":"脚本",javaTask:"自定义类节点","javaTask.javaClass":"类名",mailTask:"邮件节点","mailTask.to":"收件人","mailTask.subject":"标题","mailTask.content":"内容",receiveTask:"接收节点","receiveTask.waitState":"等待属性","receiveTask.stateValue":"等待值",timerEvent:"定时节点","timerEvent.cycle":"循环时间","timerEvent.cycle.placeholder":"请选择时间","timerEvent.duration":"持续时间",messageEvent:"消息节点","messageEvent.message":"消息名",signalEvent:"信号节点","signalEvent.signal":"信号名",sequenceFlow:"连接线","sequenceFlow.expression":"条件参数","sequenceFlow.seq":"序号","sequenceFlow.reverse":"反向",startEvent:"开始节点",endEvent:"结束节点",start:"开始事件",end:"结束事件",gateway:"网关",exclusiveGateway:"排他网关",parallelGateway:"并行网关",inclusiveGateway:"包容网关",task:"活动",catch:"捕获事件","tooltip.undo":"撤销","tooltip.redo":"重复","tooltip.copy":"复制","tooltip.paste":"粘贴","tooltip.delete":"删除","tooltip.zoomIn":"放大","tooltip.zoomOut":"缩小","tooltip.zoomReset":"实际大小","tooltip.autoFit":"适应屏幕","tooltip.toFront":"移到上一层","tooltip.toBack":"移到下一层","tooltip.edit":"编辑",process:"流程","process.category":"分类","process.id":"流程标识(id)","process.name":"流程名称","process.dataObjs":"数据对象","process.signalDefs":"信号定义","process.messageDefs":"消息定义","process.dataObjs.id":"Id","process.dataObjs.name":"名称","process.dataObjs.type":"类型","process.dataObjs.defaultValue":"默认值","process.signalDef.scope":"作用域"}},"2aea":function(e,t,a){e.exports=a.p+"static/img/parallel-gateway.cf160d7c.svg"},"2f39":function(e,t,a){},3011:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"媒体库",visible:e.drawer},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","padding-top":"40px"}},e._l(e.picList,(function(t,n){return a("el-image",{key:n,staticClass:"header-img-box-list",attrs:{src:t.url},nativeOn:{click:function(a){return e.chooseImg(t.url,e.target,e.targetKey)}}},[a("div",{staticClass:"header-img-box-list",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])})),1)])},i=[],o=(a("96cf"),a("1da1")),s=a("b485"),r={props:{target:[Object],targetKey:[String]},data:function(){return{drawer:!1,picList:[]}},methods:{chooseImg:function(e,t,a){t&&a&&(t[a]=e),this.$emit("enter-img",e),this.drawer=!1},open:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["getFileList"])({page:1,pageSize:9999});case 2:a=t.sent,e.picList=a.data.list,e.drawer=!0;case 5:case"end":return t.stop()}}),t)})))()}}},c=r,l=(a("d2be"),a("2877")),d=Object(l["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},"3b08":function(e,t,a){"use strict";a.r(t),t["default"]={nodeActivedOutterStyle:{lineWidth:0},groupSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},nodeSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF",fillOpacity:.4},groupSelectedStyle:{stroke:"#1890FF",fillOpacity:.92},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,strokeOpacity:.7},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},anchorPointStyle:{r:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{r:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{r:14},anchorPointHoverStyle:{r:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#1890FF",lineDash:[4,4],lineWidth:1}}},"3b9e":function(e,t,a){e.exports=a.p+"static/img/icon_receive.a6c46918.svg"},"3e07":function(e,t,a){e.exports=a.p+"static/img/parallel-gateway.dfb4ebaf.svg"},"3f6f":function(e,t,a){"use strict";a.r(t),t["default"]=function(e){e.registerBehavior("hoverAnchorActived",{getEvents:function(){return{"anchor:mouseenter":"onAnchorEnter","anchor:mousemove":"onAnchorEnter","anchor:mouseleave":"onAnchorLeave"}},onAnchorEnter:function(e){this.graph.get("edgeDragging")||this.graph.setItemState(e.item,"active-anchor",!0)},onAnchorLeave:function(e){if(!this.graph.get("edgeDragging")){var t=e.item.getContainer().getParent();t&&this.graph.setItemState(e.item,"active-anchor",!1)}}})}},4357:function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=a("3b08"),o=a("6a23"),s=a("7da3"),r=a.n(s);t["default"]=function(e){r.a.registerFactory("controlPoint",{defaultShapeType:"marker",getShape:function(e){var t=Object.assign({},o["shapeBase"],{type:"marker",itemType:e,drawShape:function(e,t){var a=this.getShapeStyle(e),i=t.addShape("marker",{attrs:Object(n["a"])(Object(n["a"])({},a),{},{symbol:"square"}),name:"controlPoint-shape",draggable:!0});return i},setState:function(e,t,a){"active"===e&&(t?this.update({style:Object(n["a"])({},i["default"].pointPointHoverStyle)},a):this.update({style:Object(n["a"])({},i["default"].pointPointStyle)},a))}});return t}})}},4462:function(e,t,a){"use strict";a.r(t);a("4160"),a("159b");var n=a("5530"),i=a("3b08"),o=a("92ca");t["default"]=function(e){e.registerBehavior("dragEdge",{getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},dragEdge:!1}},getEvents:function(){return{"anchor:dragstart":"onDragStart","anchor:drag":"onDrag","anchor:dragend":"onDragEnd","anchor:dragenter":"onDragEnter","anchor:dragleave":"onDragLeave"}},onDragEnter:function(e){this.origin&&(this.sameNode(e)||(e.item.setHotspotActived(!0),this.origin.targetNode=e.target.getParent().getParent().get("item"),this.origin.targetAnchor=e.item.get("index")))},onDragLeave:function(e){this.origin&&(this.sameNode(e)||(e.item.setHotspotActived(!1),this.origin.targetNode=null,this.origin.targetAnchor=null))},onDragStart:function(e){var t=e.target.getParent().getParent().get("item"),a=e.item.get("index"),n=t.getAnchorPoints()[a];this.target=e.item;var i=t.get("groupId");if(i){var o=e.target.getParent().getParent().getParent().getParent().get("item"),s=o.getBBox();this.origin={x:n.x+s.x+s.width/2,y:n.y+s.y+s.height/2,sourceNode:t,sourceAnchor:a},this.dragEdgeBeforeShowAnchorBySub(o)}else this.origin={x:n.x,y:n.y,sourceNode:t,sourceAnchor:a},this.dragEdgeBeforeShowAnchor(e);this.graph.set("edgeDragging",!0)},onDrag:function(e){this.origin&&this._updateEdge(this.target,e)},onDragEnd:function(e){if(this.origin){var t=e.item.get("edgeDelegate");t&&(t.remove(),this.target.set("edgeDelegate",null)),this._updateEdge(this.target,e,!0),this.graph.setItemState(this.origin.sourceNode,"show-anchor",!1),this.target=null,this.origin=null,this.graph.set("edgeDragging",!1)}},sameNode:function(e){return e.target instanceof o["Marker"]&&e.target.getParent()&&e.target.getParent().getParent().get("item").get("id")===this.origin.sourceNode.get("id")},dragEdgeBeforeShowAnchorBySub:function(e){var t=e.getContainer();t.nodes.forEach((function(e){var t=e.getContainer();t.showAnchor(),t.anchorShapes.forEach((function(e){return e.get("item").showHotpot()}))}))},dragEdgeBeforeShowAnchor:function(e){var t=this.origin.sourceNode.getModel().groupId;this.graph.getNodes().forEach((function(e){if("start"!==e.getModel().clazz&&"timerStart"!==e.getModel().clazz&&"messageStart"!==e.getModel().clazz){var a=e.getModel().groupId;if(!(!t&&a||t&&!a||t!==a)){var n=e.getContainer();n.showAnchor(),n.anchorShapes.forEach((function(e){return e.get("item").showHotpot()}))}}}))},_updateEdge:function(e,t,a){var n=t.x,i=t.y;if(!this.delegate||a){var o=t.target.getParent().getParent().get("item"),s=o.get("groupId");s?this._addSubProcessEdge(o,t):this._addEdge(t),this._clearAllAnchor(),this.graph.paint()}else this._updateEdgeDelegate(e,n,i)},_updateEdgeDelegate:function(e,t,a){var o=this,s=e.get("edgeDelegate");if(!s){var r=o.graph.get("group");s=r.addShape("line",{attrs:Object(n["a"])({x1:this.origin.x,y1:this.origin.y,x2:t,y2:a},i["default"].edgeDelegationStyle)}),s.set("capture",!1),e.set("edgeDelegate",s)}s.attr({x2:t,y2:a}),this.graph.paint()},_clearAllAnchor:function(){this.graph.getNodes().forEach((function(e){var t=e.getContainer();t.clearAnchor()}))},_addSubProcessEdge:function(e,t){if(this.origin.targetNode){var a=e.getContainer().getParent().getParent(),n=e.getContainer().getParent().getParent().get("item"),i=this.origin.sourceNode.get("id"),o=this.origin.targetNode.get("id"),s={id:i+"_to_"+o,clazz:"flow",source:i,target:o,sourceAnchor:this.origin.sourceAnchor,targetAnchor:this.origin.targetAnchor},r=a.addEdgeModel(n,s);this.graph.executeCommand?this.graph.executeCommand("update",{itemId:n.get("id"),updateModel:r}):this.graph.updateItem(e,r)}},_addEdge:function(){if(this.origin.targetNode){var e=(new Date).getTime(),t={id:"flow"+e,clazz:"flow",source:this.origin.sourceNode.get("id"),target:this.origin.targetNode.get("id"),sourceAnchor:this.origin.sourceAnchor,targetAnchor:this.origin.targetAnchor};this.graph.executeCommand?this.graph.executeCommand("add",{type:"edge",addModel:t}):this.graph.add("edge",t)}}})}},"487e":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a("5530"),i=a("d4ec"),o=a("bee2"),s=a("262e"),r=a("2caf"),c=a("3b08"),l=a("f694"),d=a.n(l),u=a("8937"),h=function(e){Object(s["a"])(a,e);var t=Object(r["a"])(a);function a(e){var o;return Object(i["a"])(this,a),o=t.call(this,Object(u["deepMix"])(e,{type:"anchor",isActived:!1,model:{type:"anchor",style:Object(n["a"])(Object(n["a"])({},c["default"].anchorPointStyle),{},{cursor:c["default"].cursor.hoverEffectiveAnchor})}})),o.enableCapture(!0),o.isAnchor=!0,o.toFront(),o}return Object(o["a"])(a,[{key:"showHotpot",value:function(){this.hotpot=this.getContainer().addShape("marker",{attrs:Object(n["a"])(Object(n["a"])({},this.get("model").style),c["default"].anchorHotsoptStyle),name:"hotpot-shape",draggable:!0}),this.hotpot.toFront(),this.getKeyShape().toFront()}},{key:"setActived",value:function(){this.update({style:Object(n["a"])({},c["default"].anchorPointHoverStyle)})}},{key:"clearActived",value:function(){this.update({style:Object(n["a"])({},c["default"].anchorPointStyle)})}},{key:"setHotspotActived",value:function(e){this.hotpot&&(e?this.hotpot.attr(c["default"].anchorHotsoptActivedStyle):this.hotpot.attr(c["default"].anchorHotsoptStyle))}}]),a}(d.a)},"48fa":function(e,t,a){e.exports=a.p+"static/img/start.894f1842.svg"},"4a09":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"headerAvatar"},["avatar"===e.picType?[e.userInfo.headerImg?n("el-avatar",{attrs:{size:30,src:e.avatar}}):n("el-avatar",{attrs:{size:30,src:a("c1a0")}})]:e._e(),"img"===e.picType?[e.userInfo.headerImg?n("img",{staticClass:"avatar",attrs:{src:e.avatar}}):n("img",{staticClass:"avatar",attrs:{src:a("c1a0")}})]:e._e(),"file"===e.picType?[n("img",{staticClass:"file",attrs:{src:e.file}})]:e._e()],2)},i=[],o=(a("fb6a"),a("5530")),s=a("2f62"),r="/api",c={name:"customPic",props:{picType:{type:String,required:!1,default:"avatar"},picSrc:{type:String,required:!1,default:""}},data:function(){return{path:r}},computed:Object(o["a"])(Object(o["a"])({},Object(s["c"])("user",["userInfo"])),{},{avatar:function(){return""===this.picSrc?""!==this.userInfo.headerImg&&"http"===this.userInfo.headerImg.slice(0,4)?this.userInfo.headerImg:this.path+this.userInfo.headerImg:""!==this.picSrc&&"http"===this.picSrc.slice(0,4)?this.picSrc:this.path+this.picSrc},file:function(){return this.picSrc&&"http"!==this.picSrc.slice(0,4)?this.path+this.picSrc:this.picSrc}})},l=c,d=(a("4cb6"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"16ecfdc4",null);t["default"]=u.exports},"4cb6":function(e,t,a){"use strict";var n=a("816b"),i=a.n(n);i.a},"51d2":function(e,t,a){"use strict";function n(e){switch(e){case"start":return"start-node";case"end":return"end-node";case"gateway":return"gateway-node";case"exclusiveGateway":return"exclusive-gateway-node";case"parallelGateway":return"parallel-gateway-node";case"inclusiveGateway":return"inclusive-gateway-node";case"timerStart":return"timer-start-node";case"messageStart":return"message-start-node";case"signalStart":return"signal-start-node";case"userTask":return"user-task-node";case"scriptTask":return"script-task-node";case"mailTask":return"mail-task-node";case"javaTask":return"java-task-node";case"receiveTask":return"receive-task-node";case"timerCatch":return"timer-catch-node";case"messageCatch":return"message-catch-node";case"signalCatch":return"signal-catch-node";case"subProcess":return"sub-process-node";default:return"task-node"}}a.r(t),a.d(t,"getShapeName",(function(){return n}))},5265:function(e,t,a){e.exports=a.p+"static/img/end.cde051d2.svg"},"58e3":function(e,t,a){e.exports=a.p+"static/img/end.9687f898.svg"},"59a6":function(e,t,a){"use strict";a.r(t);a("7db0"),a("4160"),a("a434"),a("159b");var n=a("d4ec"),i=a("bee2"),o=a("8937"),s=function(){function e(){Object(n["a"])(this,e),this._cfgs=this.getDefaultCfg(),this.list=[],this.queue=[]}return Object(i["a"])(e,[{key:"getDefaultCfg",value:function(){return{_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"get",value:function(e){return this._cfgs[e]}},{key:"set",value:function(e,t){this._cfgs[e]=t}},{key:"initPlugin",value:function(e){var t=this;this.initCommands(),e.getCommands=function(){return t.get("_command").queue},e.getCurrentCommand=function(){var e=t.get("_command");return e.queue[e.current-1]},e.executeCommand=function(a,n){t.execute(a,e,n)},e.commandEnable=function(a){return t.enable(a,e)}}},{key:"registerCommand",value:function(e,t){if(this[e])Object(o["mix"])(this[e],t);else{var a=Object(o["mix"])({},{name:e,shortcutCodes:[],queue:!0,executeTimes:1,init:function(){},enable:function(){return!0},execute:function(e){this.snapShot=e.save(),this.selectedItems=e.get("selectedItems"),this.method&&(Object(o["isString"])(this.method)?e[this.method]():this.method(e))},back:function(e){e.read(this.snapShot),e.set("selectedItems",this.selectedItems)}},t);this[e]=a,this.list.push(a)}}},{key:"execute",value:function(e,t,a){var n=Object(o["mix"])({},this[e],a),i=this.get("_command");return n.enable(t)&&(n.init(),n.queue&&(i.queue.splice(i.current,i.queue.length-i.current,n),i.current++)),t.emit("beforecommandexecute",{command:n}),n.execute(t),t.emit("aftercommandexecute",{command:n}),n}},{key:"enable",value:function(e,t){return this[e].enable(t)}},{key:"destroyPlugin",value:function(){this._events=null,this._cfgs=null,this.list=[],this.queue=[],this.destroyed=!0}},{key:"_deleteSubProcessNode",value:function(e,t){var a=e.find("node",(function(e){if(e.get("model")){var a=e.get("model").clazz;if("subProcess"===a){var n=e.getContainer(),i=n.subGroup,o=i.findById(t);return i.contain(o)}return!1}return!1}));if(a){var n=a.getContainer(),i=n.removeItem(a,t);e.updateItem(a,i)}}},{key:"initCommands",value:function(){var e=this;e.registerCommand("add",{enable:function(){return this.type&&this.addModel},execute:function(e){var t=e.add(this.type,this.addModel);1===this.executeTimes&&(this.addId=t.get("id"))},back:function(e){e.remove(this.addId)}}),e.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(e){var t=e.findById(this.itemId);t&&(1===this.executeTimes&&(this.originModel=Object(o["mix"])({},t.getModel())),e.update(t,this.updateModel))},back:function(e){var t=e.findById(this.itemId);e.update(t,this.originModel)}}),e.registerCommand("delete",{enable:function(e){var t=e.getCurrentMode(),a=e.get("selectedItems");return"edit"===t&&a&&a.length>0},method:function(t){var a=t.get("selectedItems");t.emit("beforedelete",{items:a}),a&&a.length>0&&a.forEach((function(a){var n=t.findById(a);n?t.remove(a):e._deleteSubProcessNode(t,a)})),t.emit("afterdelete",{items:a})},shortcutCodes:["Delete","Backspace"]}),e.registerCommand("redo",{queue:!1,enable:function(t){var a=t.getCurrentMode(),n=e.get("_command");return"edit"===a&&n.current<n.queue.length},execute:function(t){var a=e.get("_command"),n=a.queue[a.current];n&&n.execute(t),a.current++},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),e.registerCommand("undo",{queue:!1,enable:function(t){var a=t.getCurrentMode();return"edit"===a&&e.get("_command").current>0},execute:function(t){var a=e.get("_command"),n=a.queue[a.current-1];n&&(n.executeTimes++,n.back(t)),a.current--},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),e.registerCommand("copy",{queue:!1,enable:function(e){var t=e.getCurrentMode(),a=e.get("selectedItems");return"edit"===t&&a&&a.length>0},method:function(t){var a=e.get("_command");a.clipboard=[];var n=t.get("selectedItems");if(n&&n.length>0){var i=t.findById(n[0]);i&&a.clipboard.push({type:i.get("type"),model:i.getModel()})}}}),e.registerCommand("paste",{enable:function(t){var a=t.getCurrentMode();return"edit"===a&&e.get("_command").clipboard.length>0},method:function(t){var a=e.get("_command");this.pasteData=Object(o["clone"])(a.clipboard[0]);var n=this.pasteData.model;n.x&&(n.x+=10),n.y&&(n.y+=10);var i=n.clazz,s=void 0===i?"userTask":i,r=(new Date).getTime(),c=s+r;n.id=c;var l=t.add(this.pasteData.type,n);l.toFront()}}),e.registerCommand("zoomIn",{queue:!1,enable:function(e){var t=e.getZoom(),a=e.get("maxZoom"),n=e.get("minZoom");return t<=a&&t>=n},execute:function(t){var a=e.get("_command"),n=t.get("maxZoom"),i=t.getZoom();this.originZoom=i;var o=i+a.zoomDelta;o>n&&(o=n),t.zoomTo(o)},back:function(e){e.zoomTo(this.originZoom)},shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),e.registerCommand("zoomOut",{queue:!1,enable:function(e){var t=e.getZoom(),a=e.get("maxZoom"),n=e.get("minZoom");return t<=a&&t>=n},execute:function(t){var a=e.get("_command"),n=t.get("minZoom"),i=t.getZoom();this.originZoom=i;var o=i-a.zoomDelta;o<n&&(o=n),t.zoomTo(o)},back:function(e){e.zoomTo(this.originZoom)},shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),e.registerCommand("resetZoom",{queue:!1,execute:function(e){var t=e.getZoom();this.originZoom=t,e.zoomTo(1)},back:function(e){e.zoomTo(this.originZoom)}}),e.registerCommand("autoFit",{queue:!1,execute:function(e){var t=e.getZoom();this.originZoom=t,e.fitView(5)},back:function(e){e.zoomTo(this.originZoom)}}),e.registerCommand("toFront",{queue:!1,enable:function(e){var t=e.get("selectedItems");return t&&t.length>0},execute:function(e){var t=e.get("selectedItems");if(t&&t.length>0){var a=e.findById(t[0]);a.toFront(),e.paint()}},back:function(e){}}),e.registerCommand("toBack",{queue:!1,enable:function(e){var t=e.get("selectedItems");return t&&t.length>0},execute:function(e){var t=e.get("selectedItems");if(t&&t.length>0){var a=e.findById(t[0]);a.toBack(),e.paint()}},back:function(e){}})}}]),e}();t["default"]=s},"5c8e":function(e,t,a){"use strict";a.r(t);a("4160"),a("159b");t["default"]=function(e){e.registerBehavior("dragPoint",{getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},dragEdge:!1}},getEvents:function(){return{"controlPoint:dragstart":"onDragStart","controlPoint:drag":"onDrag","controlPoint:dragend":"onDragEnd"}},onDragStart:function(e){var t=e.target.getParent().getParent().get("item"),a=e.item.get("index");this.target=e.item,this.origin={x:e.x,y:e.y,sourceNode:t,sourceAnchor:a},this.graph.set("edgeDragging",!0)},onDrag:function(e){if(this.origin){var t=e.target.getParent().getParent().get("item"),a=e.item.get("index"),n=t.getModel(),i=n.size[0],o=n.size[1],s=e.x-this.origin.x,r=e.y-this.origin.y,c=i,l=o,d=this.origin.sourceAnchor;0===d?(c=i-s,l=o-r):1===d?l=o-r:2===d?(c=i+s,l=o-r):3===d?c=i+s:4===d?(c=i+s,l=o+r):5===d?l=o+r:6===d?(c=i-s,l=o+r):7===d&&(c=i-s);var u=t.getContainer();u.controlPointShapes.forEach((function(e){return e.hide()})),this.graph.updateItem(t,{size:[c,l]}),this.origin={x:e.x,y:e.y,sourceNode:t,sourceAnchor:a}}},onDragEnd:function(e){if(this.origin){var t=e.target.getParent().getParent().get("item");this.target=null,this.origin=null;var a=t.getContainer();a.clearControlPoints(a),a.showControlPoints(a),this.graph.set("edgeDragging",!1)}}})}},6733:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["userTask"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v("选择审批人类别：")]),a("el-select",{staticStyle:{width:"90%","font-size":"12px"},attrs:{placeholder:"请选择角色（与用户互斥）",value:e.model.assignType,disabled:e.readOnly},on:{change:function(t){e.onChange("assignValue",""),e.onChange("assignType",t)}}},[a("el-option",{key:"user",attrs:{value:"user",label:"用户"}}),a("el-option",{key:"authority",attrs:{value:"authority",label:"角色"}}),a("el-option",{key:"self",attrs:{value:"self",label:"发起人本人"}})],1)],1),"user"==e.model.assignType?a("div",{staticClass:"panelRow"},[a("div",[e._v("选择用户：")]),a("el-select",{staticStyle:{width:"90%","font-size":"12px"},attrs:{placeholder:"请选择用户",disabled:e.readOnly,value:e.model.assignValue,clearable:"",multiple:"",filterable:!0,"filter-method":e.filterUsers},on:{change:function(t){return e.onChange("assignValue",t)}}},e._l(e.usersCopy,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),"authority"==e.model.assignType?a("div",{staticClass:"panelRow"},[a("div",[e._v("选择角色：")]),a("el-select",{staticStyle:{width:"90%","font-size":"12px"},attrs:{placeholder:"请选择角色",disabled:e.readOnly,multiple:"",value:e.model.assignValue,clearable:"",filterable:!0,"filter-method":e.filterAuthorities},on:{change:function(t){return e.onChange("assignValue",t)}}},e._l(e.authoritiesCopy,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),a("div",{staticClass:"panelRow"},[a("div",{staticStyle:{display:"inline"}},[e._v(e._s(e.i18n["userTask.dueDate"])+"：")]),a("el-date-picker",{staticStyle:{width:"90%","min-width":"null"},attrs:{type:"datetime",placeholder:e.i18n["userTask.dueDate.placeholder"],disabled:e.readOnly,value:e.model.dueDate},on:{input:function(t){return e.onChange("dueDate",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("视图文件路径（以view开头）")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入视图文件路径（以view开头）",type:"view",value:e.model.view},on:{input:function(t){e.onChange("view",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("详情说明：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入详情内容",type:"textarea",value:e.model.description},on:{input:function(t){e.onChange("description",t)}}})],1)],1)])},i=[],o=(a("4de4"),a("c975"),a("b0c0"),a("2589")),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},users:{type:Array,default:function(){return[]}},authority:{type:Array,default:function(){return[]}},authorities:{type:Array,default:function(){return[]}},groups:{type:Array,default:function(){return[]}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}},data:function(){return{usersCopy:this.users,groupsCopy:this.groups,authoritiesCopy:this.authorities}},methods:{filterUsers:function(e){this.usersCopy=e?this.users.filter((function(t){if(t.name.indexOf(e)>-1)return!0})):this.users},filterAuthorities:function(e){this.authoritiesCopy=e?this.authorities.filter((function(t){if(console.log(t),t.name.indexOf(e)>-1)return!0})):this.authorities},filterGroups:function(e){this.groupsCopy=e?this.groups.filter((function(t){if(~t.name.indexOf(e)||~t.name.toLowerCase().indexOf(e.toLowerCase()))return!0})):this.groups}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"68a4":function(e,t,a){"use strict";a.r(t);var n=a("d4ec"),i=a("bee2"),o=a("8937"),s=function(){function e(t){Object(n["a"])(this,e),this._cfgs=Object(o["deepMix"])(this.getDefaultCfg(),t)}return Object(i["a"])(e,[{key:"getDefaultCfg",value:function(){return{container:null}}},{key:"get",value:function(e){return this._cfgs[e]}},{key:"set",value:function(e,t){this._cfgs[e]=t}},{key:"initPlugin",value:function(e){var t=this.get("container");t.addEventListener("dragover",(function(t){e.emit("canvas:mousemove",t)})),t.addEventListener("dragleave",(function(t){e.emit("canvas:mouseleave",t)}))}},{key:"destroy",value:function(){this.get("canvas").destroy();var e=this.get("container");e.parentNode.removeChild(e)}}]),e}();t["default"]=s},"6a57":function(e,t,a){"use strict";var n=a("c839"),i=a.n(n);i.a},"6c87":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itemPanel",style:{height:e.height+"px"}},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:e.i18n["start"],name:"1"}},[n("img",{staticStyle:{width:"42px",height:"42px"},attrs:{"data-item":"{clazz:'start',size:'50*50',label:''}",src:a("48fa")}}),n("div",[e._v(e._s(e.i18n["startEvent"]))])]),n("el-collapse-item",{attrs:{title:e.i18n["task"],name:"2"}},[n("img",{staticStyle:{width:"80px",height:"44px"},attrs:{"data-item":e.userTaskData,src:a("acb2")}}),n("div",[e._v(e._s(e.i18n["userTask"]))])]),n("el-collapse-item",{attrs:{title:e.i18n["gateway"],name:"3"}},[n("img",{staticStyle:{width:"48px",height:"48px"},attrs:{"data-item":"{clazz:'exclusiveGateway',size:'60*60',label:''}",src:a("ad5f")}}),n("div",[e._v(e._s(e.i18n["exclusiveGateway"]))]),n("img",{staticStyle:{width:"48px",height:"48px"},attrs:{"data-item":"{clazz:'parallelGateway',size:'60*60',label:''}",src:a("3e07")}}),n("div",[e._v(e._s(e.i18n["parallelGateway"]))]),n("img",{staticStyle:{width:"48px",height:"48px"},attrs:{"data-item":"{clazz:'inclusiveGateway',size:'60*60',label:''}",src:a("243c")}}),n("div",[e._v(e._s(e.i18n["inclusiveGateway"]))])]),n("el-collapse-item",{attrs:{title:e.i18n["end"],name:"5"}},[n("img",{staticStyle:{width:"42px",height:"42px"},attrs:{"data-item":"{clazz:'end',size:'50*50',label:''}",src:a("58e3")}}),n("div",[e._v(e._s(e.i18n["endEvent"]))])])],1)],1)},i=[],o=(a("a9e3"),{inject:["i18n"],props:{height:{type:Number,default:800}},data:function(){return{activeNames:[],userTaskData:"{clazz:'userTask',size:'80*44',label:'"+this.i18n["userTask"]+"'}",scriptTaskData:"{clazz:'scriptTask',size:'80*44',label:'"+this.i18n["scriptTask"]+"'}",mailTaskData:"{clazz:'mailTask',size:'80*44',label:'"+this.i18n["mailTask"]+"'}",receiveTaskData:"{clazz:'receiveTask',size:'80*44',label:'"+this.i18n["receiveTask"]+"'}"}}}),s=o,r=(a("805b"),a("2877")),c=Object(r["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},"6e07":function(e,t,a){"use strict";var n=a("e404"),i=a.n(n);i.a},"6f6b":function(e,t,a){e.exports=a.p+"static/img/exclusive-gateway.64d2bf03.svg"},"74c6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["process"]))]),a("div",{staticClass:"panelBody"},[a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["process.id"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly||!!this.$route.query.type,placeholder:"必填（唯一标识）",value:e.model.id},on:{input:function(t){e.onChange("id",t)}}})],1),a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["process.name"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入流程名称",value:e.model.name},on:{input:function(t){e.onChange("name",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("默认视图文件路径（以view开头）")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入视图文件路径（以view开头）",type:"view",value:e.model.view},on:{input:function(t){e.onChange("view",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("详情说明：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,type:"textarea",placeholder:"请输入详情说明",value:e.model.description},on:{input:function(t){e.onChange("description",t)}}})],1)],1)])},i=[],o=(a("4de4"),a("c975"),a("b0c0"),a("2589")),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},categorys:{type:Array,default:function(){return[]}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}},data:function(){return{categoryCopy:this.categorys}},methods:{filterCategory:function(e){this.categoryCopy=e?this.categorys.filter((function(t){if(~t.name.indexOf(e)||~t.name.toLowerCase().indexOf(e.toLowerCase()))return!0})):this.categorys}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},7708:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var n=a("5530"),i=a("d4ec"),o=a("262e"),s=a("2caf"),r=a("3b08"),c=a("f694"),l=a.n(c),d=a("8937"),u=function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(e){var o;return Object(i["a"])(this,a),o=t.call(this,Object(d["deepMix"])(e,{type:"controlPoint",isActived:!1,model:{type:"controlPoint",style:Object(n["a"])({},r["default"].anchorPointStyle)}})),o.enableCapture(!0),o.toFront(),o}return a}(l.a)},"7a1f":function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=a("3b08"),o=a("6a23"),s=a("7da3"),r=a.n(s);t["default"]=function(e){r.a.registerFactory("anchor",{defaultShapeType:"marker",getShape:function(e){var t=Object.assign({},o["shapeBase"],{type:"marker",itemType:e,drawShape:function(e,t){var a=this.getShapeStyle(e),n=t.addShape("marker",{attrs:a,name:"anchor-shape",draggable:!0});return n},setState:function(e,t,a){"active-anchor"===e&&(t?this.update({style:Object(n["a"])({},i["default"].anchorPointHoverStyle)},a):this.update({style:Object(n["a"])({},i["default"].anchorPointStyle)},a))}});return t}})}},"7c0c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["timerEvent"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["timerEvent.cycle"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{type:"textarea",rows:4,disabled:e.readOnly,value:e.model.cycle},on:{input:function(t){e.onChange("cycle",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["timerEvent.duration"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{type:"textarea",rows:4,disabled:e.readOnly,value:e.model.duration},on:{input:function(t){e.onChange("duration",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("视图文件路径（以view开头）")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,placeholder:"请输入视图文件路径（以view开头）",type:"view",value:e.model.view},on:{input:function(t){e.onChange("view",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"7d79":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toolbar"},[a("el-tooltip",{attrs:{content:this.i18n["tooltip.undo"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"undo"}},[a("span",{staticClass:"iconfont icon-undo"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.redo"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"redo"}},[a("span",{staticClass:"iconfont icon-redo"})])]),a("span",{staticClass:"separator"}),a("el-tooltip",{attrs:{content:this.i18n["tooltip.copy"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"copy"}},[a("span",{staticClass:"iconfont icon-copy-o"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.paste"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"paste"}},[a("span",{staticClass:"iconfont icon-paster-o"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.delete"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"delete"}},[a("span",{staticClass:"iconfont icon-delete-o"})])]),a("span",{staticClass:"separator"}),a("el-tooltip",{attrs:{content:this.i18n["tooltip.zoomIn"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"zoomIn"}},[a("span",{staticClass:"iconfont icon-zoom-in-o"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.zoomOut"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"zoomOut"}},[a("span",{staticClass:"iconfont icon-zoom-out-o"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.zoomReset"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"resetZoom"}},[a("span",{staticClass:"iconfont icon-actual-size-o"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.autoFit"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"autoFit"}},[a("span",{staticClass:"iconfont icon-fit"})])]),a("span",{staticClass:"separator"}),a("el-tooltip",{attrs:{content:this.i18n["tooltip.toFront"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"toFront"}},[a("span",{staticClass:"iconfont icon-to-front"})])]),a("el-tooltip",{attrs:{content:this.i18n["tooltip.toBack"],placement:"bottom"}},[a("span",{staticClass:"command",attrs:{"data-command":"toBack"}},[a("span",{staticClass:"iconfont icon-to-back"})])])],1)},i=[],o={inject:["i18n"]},s=o,r=(a("6a57"),a("2877")),c=Object(r["a"])(s,n,i,!1,null,"4ffdefc6",null);t["default"]=c.exports},"805b":function(e,t,a){"use strict";var n=a("2f39"),i=a.n(n);i.a},"816b":function(e,t,a){},"884e":function(e,t,a){"use strict";a.r(t),a.d(t,"exportXML",(function(){return o})),a.d(t,"exportImg",(function(){return s}));a("99af"),a("4160"),a("a15b"),a("d81d"),a("ace4"),a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("ddb0"),a("2b3d");var n=a("2909");function i(e){return Object(n["a"])(Array(e)).map((function(e){return" "})).join("")}function o(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.id||"flow",o=t.name||"flow",s="";t.dataObjs.forEach((function(e){s+="".concat(i(4),'<dataObject id="').concat(e.id,'" name="').concat(e.name,'" itemSubjectRef="xsd:').concat(e.type,'"></dataObject>\n')}));var c="";t.signalDefs.forEach((function(e){c+="".concat(i(2),'<signal id="').concat(e.id,'" name="').concat(e.name,'" flowable:scope="').concat(e.scope,'"></signal>\n')}));var l="";t.messageDefs.forEach((function(e){l+="".concat(i(2),'<message id="').concat(e.id,'" name="').concat(e.name,'"></message>\n')}));var d="",u="",h="".concat(i(2),'<process id="').concat(n,'" name="').concat(o,'">\n');h+=s,e.nodes.forEach((function(e){switch(d+="".concat(i(6),'<bpmndi:BPMNShape bpmnElement="').concat(e.id,'" id="BPMNShape_').concat(e.id,'">\n')+"".concat(i(8),'<omgdc:Bounds width="').concat(e.size[0],'" height="').concat(e.size[1],'" x="').concat(e.x,'" y="').concat(e.y,'"></omgdc:Bounds>\n')+"".concat(i(6),"</bpmndi:BPMNShape>\n"),e.clazz){case"start":h+="".concat(i(4),'<startEvent id="').concat(e.id,'"></startEvent>\n');break;case"end":h+="".concat(i(4),'<endEvent id="').concat(e.id,'"></endEvent>\n');break;case"userTask":var t="";e.assignValue&&e.assignValue.length>0&&("person"===e.assignType?t+='flowable:candidateUsers="'.concat(e.assignValue.join(","),'"'):"assignee"===e.assignType?t+='flowable:assignee="'.concat(e.assignValue[0],'"'):"persongroup"===e.assignType&&(t+='flowable:candidateGroups="'.concat(e.assignValue.join(","),'"'))),h+="".concat(i(4),'<userTask id="').concat(e.id,'" name="').concat(e.label,'" ').concat(t,"></userTask>\n");break;case"javaTask":var a="";e.javaClass&&(a='flowable:class="'.concat(e.javaClass,'"')),h+="".concat(i(4),'<serviceTask id="').concat(e.id,'" name="').concat(e.label,'" ').concat(a,"></serviceTask>\n");break;case"scriptTask":var n="";e.script&&(n="".concat(i(6),"<script><![CDATA[").concat(e.script,"]]><\/script>\n")),h+="".concat(i(4),'<scriptTask id="').concat(e.id,'" name="').concat(e.label,'">\n').concat(n).concat(i(4),"</scriptTask>\n");break;case"receiveTask":h+="".concat(i(4),'<receiveTask id="').concat(e.id,'" name="').concat(e.label,'"></receiveTask>\n');break;case"mailTask":var o="".concat(i(8),'<flowable:field name="to">\n');o+="".concat(i(10),"<flowable:string><![CDATA[").concat(e.to,"]]></flowable:string>\n"),o+="".concat(i(8),"</flowable:field>\n");var s="".concat(i(8),'<flowable:field name="subject">\n');s+="".concat(i(10),"<flowable:string><![CDATA[").concat(e.subject,"]]></flowable:string>\n"),s+="".concat(i(8),"</flowable:field>\n");var r="".concat(i(8),'<flowable:field name="text">\n');r+="".concat(i(10),"<flowable:string><![CDATA[").concat(e.content,"]]></flowable:string>\n"),r+="".concat(i(8),"</flowable:field>\n");var c="".concat(i(6),"<extensionElements>\n").concat(o).concat(s).concat(r).concat(i(6),"</extensionElements>\n");h+="".concat(i(4),'<serviceTask id="').concat(e.id,'" name="').concat(e.label,'" flowable:type="mail">\n').concat(c).concat(i(4),"</serviceTask>\n");break;case"timerStart":var l="".concat(i(6),"<timerEventDefinition>\n").concat(i(8),"<timeCycle>").concat(e.cycle,"</timeCycle>\n").concat(i(6),"</timerEventDefinition>\n");h+="".concat(i(4),'<startEvent id="').concat(e.id,'" isInterrupting="false">\n').concat(l).concat(i(4),"</startEvent>\n");break;case"timerCatch":var u="".concat(i(6),"<timerEventDefinition>\n").concat(i(8),"<timeCycle>").concat(e.cycle,"</timeCycle>\n").concat(i(6),"</timerEventDefinition>\n");h+="".concat(i(4),'<intermediateCatchEvent id="').concat(e.id,'">\n').concat(u).concat(i(4),"</intermediateCatchEvent>\n");break;case"signalStart":var g="".concat(i(6),'<signalEventDefinition signalRef="').concat(e.signal,'"></signalEventDefinition>\n');h+="".concat(i(4),'<startEvent id="').concat(e.id,'" isInterrupting="true">\n').concat(g).concat(i(4),"</startEvent>\n");break;case"signalCatch":var p="".concat(i(6),'<signalEventDefinition signalRef="').concat(e.signal,'"></signalEventDefinition>\n');h+="".concat(i(4),'<intermediateCatchEvent id="').concat(e.id,'">\n').concat(p).concat(i(4),"</intermediateCatchEvent>\n");break;case"messageStart":var f="".concat(i(6),'<messageEventDefinition messageRef="').concat(e.message,'"></messageEventDefinition>\n');h+="".concat(i(4),'<startEvent id="').concat(e.id,'" isInterrupting="true">\n').concat(f).concat(i(4),"</startEvent>\n");break;case"messageCatch":var m="".concat(i(6),'<messageEventDefinition messageRef="').concat(e.message,'"></messageEventDefinition>\n');h+="".concat(i(4),'<intermediateCatchEvent id="').concat(e.id,'">\n').concat(m).concat(i(4),"</intermediateCatchEvent>\n");break;case"gateway":h+="".concat(i(4),'<exclusiveGateway id="').concat(e.id,'" name="').concat(e.label,'"></exclusiveGateway>\n');break;case"exclusiveGateway":h+="".concat(i(4),'<exclusiveGateway id="').concat(e.id,'" name="').concat(e.label,'"></exclusiveGateway>\n');break;case"parallelGateway":h+="".concat(i(4),'<parallelGateway id="').concat(e.id,'" name="').concat(e.label,'"></parallelGateway>\n');break;case"inclusiveGateway":h+="".concat(i(4),'<inclusiveGateway id="').concat(e.id,'" name="').concat(e.label,'"></inclusiveGateway>\n');break;default:break}})),e.edges.forEach((function(e){u+="".concat(i(6),'<bpmndi:BPMNEdge bpmnElement="').concat(e.source,"_").concat(e.sourceAnchor,"-").concat(e.target,"_").concat(e.targetAnchor,'" ')+'id="BPMNEdge_'.concat(e.source,"_").concat(e.sourceAnchor,"-").concat(e.target,"_").concat(e.targetAnchor,'">\n')+"".concat(i(8),'<omgdi:waypoint x="').concat(e.startPoint.x,'" y="').concat(e.startPoint.y,'"></omgdi:waypoint>\n')+"".concat(i(8),'<omgdi:waypoint x="').concat(e.endPoint.x,'" y="').concat(e.endPoint.y,'"></omgdi:waypoint>\n')+"".concat(i(6),"</bpmndi:BPMNEdge>\n");var t="";e.conditionExpression&&(t="".concat(i(6),'<conditionExpression xsi:type="tFormalExpression"><![CDATA[').concat(e.conditionExpression,"]]></conditionExpression>\n")),h+="".concat(i(4),'<sequenceFlow id="').concat(e.source,"_").concat(e.sourceAnchor,"-").concat(e.target,"_").concat(e.targetAnchor,'" sourceRef="').concat(e.source,'" targetRef="').concat(e.target,'">').concat(t,"</sequenceFlow>\n")})),h+="".concat(i(2),"</process>\n");var g="".concat(i(2),'<bpmndi:BPMNDiagram id="BPMNDiagram_').concat(n,'">\n')+"".concat(i(4),'<bpmndi:BPMNPlane bpmnElement="').concat(n,'" id="BPMNPlane_').concat(n,'">\n').concat(d).concat(u).concat(i(4),"</bpmndi:BPMNPlane>\n")+"".concat(i(2),"</bpmndi:BPMNDiagram>\n"),p='<?xml version="1.0" encoding="UTF-8"?>\n';return p+='<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.flowable.org/processdef">\n',p+=c,p+=l,p+=h,p+=g,p+="</definitions>",a&&r(p,"application/xml;charset=utf-8;","".concat(o,".bpmn20.xml")),p}function s(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t||"flow";for(var n=e.querySelector("canvas"),i=n.getContext("2d"),o=i.getImageData(0,0,n.width,n.height).data,s=n.width,c=0,l=n.height,d=0,u=0;u<n.width;u++)for(var h=0;h<n.height;h++){var g=4*(u+n.width*h);(o[g]>0||o[g+1]>0||o[g+2]||o[g+3]>0)&&(d=Math.max(h,d),c=Math.max(u,c),l=Math.min(h,l),s=Math.min(u,s))}var p=document.createElement("canvas"),f=60;p.width=c-s+2*f,p.height=d-l+2*f;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height),m.drawImage(n,s-f,l-f,p.width,p.height,0,0,p.width,p.height);var v=p.toDataURL("image/jpeg");if(a){for(var y=v.split(";base64,"),b=y[0].split(":")[1],x=window.atob(y[1]),w=new Uint8Array(x.length),C=0;C<x.length;++C)w[C]=x.charCodeAt(C);r(w,b,"".concat(t,".jpg"))}return v}function r(e,t,a){var n=new Blob([e],{type:t}),i=document.createElement("a");if(void 0!==i.download){var o=URL.createObjectURL(n);i.setAttribute("href",o),i.setAttribute("download",a),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},9152:function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=a("3b08");t["default"]=function(e){e.registerBehavior("dragNode",{getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},align:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},onDragStart:function(e){this.shouldBegin.call(this,e)&&(this.target=e.item,this.origin={x:e.x,y:e.y})},onDrag:function(e){if(this.origin&&this.get("shouldUpdate").call(this,e)){var t=this.origin,a=this.target.get("groupId"),n=this.target.get("model");if(this.point||(this.point={x:n.x,y:n.y}),a){var i=this.graph.findById(a),o=i.getBBox(),s=e.x-t.x+this.point.x+o.x+o.width/2,r=e.y-t.y+this.point.y+o.y+o.height/2;this.origin={x:e.x,y:e.y},this.point={x:s-o.x-o.width/2,y:r-o.y-o.height/2},this.delegate&&this._updateDelegate(this.target,s,r)}else{var c=e.x-t.x+this.point.x,l=e.y-t.y+this.point.y;this.origin={x:e.x,y:e.y},this.point={x:c,y:l},this.delegate&&this._updateDelegate(this.target,c,l)}}},onDragEnd:function(e){if(this.shouldEnd.call(this,e)&&this.origin){var t=e.item.get("delegateShape"),a=this.target.get("groupId");if(a){if(t){var n=this.graph.findById(a),i=n.getBBox(),o=t.getBBox(),s=o.x+o.width/2-i.x-i.width/2,r=o.y+o.height/2-i.y-i.height/2;t.remove(),this.target.set("delegateShape",null);var c=n.getContainer(),l=this.target.get("id"),d=c.updateNodeModel(n,l,{x:s,y:r});this._updateItem(n,d)}}else if(t){var u=t.getBBox(),h=u.x+u.width/2,g=u.y+u.height/2;t.remove(),this.target.set("delegateShape",null),this._updateItem(this.target,{x:h,y:g})}this.point=null,this.origin=null,this.graph.emit("afternodedragend",this.target)}},_updateItem:function(e,t){this.graph.executeCommand?this.graph.executeCommand("update",{itemId:e.get("id"),updateModel:t}):this.get("updateEdge")?this.graph.updateItem(e,t):(e.updatePosition(t),this.graph.paint())},_updateDelegate:function(e,t,a){var o=this,s=e.get("delegateShape"),r=e.get("keyShape").getBBox();if(!s){var c=o.graph.get("group"),l=i["default"].nodeDelegationStyle;s=c.addShape("rect",{attrs:Object(n["a"])({width:r.width,height:r.height,x:t-r.width/2,y:a-r.height/2,nodeId:e.get("id")},l)}),s.set("capture",!1),e.set("delegateShape",s)}s.attr({x:t-r.width/2,y:a-r.height/2}),this.graph.paint(),this.graph.emit("afternodedrag",s)}})}},"93a4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["sequenceFlow"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["sequenceFlow.expression"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{type:"textarea",rows:4,disabled:e.readOnly,value:e.model.conditionExpression},on:{input:function(t){e.onChange("conditionExpression",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["sequenceFlow.seq"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.seq},on:{input:function(t){e.onChange("seq",t)}}})],1),a("div",{staticClass:"panelRow"},[a("el-checkbox",{attrs:{disabled:e.readOnly,value:!!e.model.reverse},on:{change:function(t){return e.onChange("reverse",t)}}},[e._v(e._s(e.i18n["sequenceFlow.reverse"]))])],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},"987a":function(e,t,a){"use strict";a.r(t);a("7db0"),a("ac1f"),a("1276");var n=a("5530"),i=a("3b08"),o=a("51d2");t["default"]=function(e){e.registerBehavior("dragPanelItemAddNode",{getDefaultCfg:function(){return{}},getEvents:function(){return{"canvas:mousemove":"onMouseMove","canvas:mouseup":"onMouseUp","canvas:mouseleave":"onMouseLeave"}},onMouseMove:function(e){if(this.graph.get("addNodeDragging")){var t=this.graph.get("addDelegateShape"),a=this.graph.get("addModel"),o=parseInt(a.size.split("*")[0]),s=parseInt(a.size.split("*")[1]),r=this.graph.getPointByClient(e.x,e.y),c=r.x,l=r.y;if(!t){var d=this.graph.get("group");t=d.addShape("rect",{attrs:Object(n["a"])({width:o,height:s,x:c-o/2,y:l-s/2},i["default"].nodeDelegationStyle)}),t.set("capture",!1),this.graph.set("addDelegateShape",t)}t.attr({x:c-o/2,y:l-s/2}),this.graph.paint(),this.graph.emit("afternodedrag",t)}},onMouseUp:function(e){if(this.graph.get("addNodeDragging")){var t=this.graph.getPointByClient(e.clientX,e.clientY),a=this.graph.find("node",(function(e){if(!e.get("model"))return!1;var a=e.get("model").clazz;if("subProcess"===a){var n=e.getBBox();return t.x>n.minX&&n.maxX>t.x&&t.y>n.minY&&n.maxY>t.y}}));a?t.x>0&&t.y>0&&this._addNodeBySubProcess(t,a):t.x>0&&t.y>0&&this._addNode(t)}},_addNodeBySubProcess:function(e,t){if(this.graph.get("addNodeDragging")){var a=this.graph.get("addModel"),i=a.clazz,s=void 0===i?"userTask":i;a.shape=Object(o["getShapeName"])(s),a.size=a.size.split("*");var r=(new Date).getTime(),c=s+r,l=t.getBBox(),d=e.x-l.x-l.width/2,u=e.y-l.y-l.height/2,h=Object(n["a"])(Object(n["a"])({},a),{},{x:d,y:u,id:c}),g=t.getContainer(),p=g.addNodeModel(t,h);this.graph.executeCommand?this.graph.executeCommand("update",{itemId:t.get("id"),updateModel:p}):this.graph.updateItem(t,p)}},onMouseLeave:function(e){this.graph.get("addNodeDragging")&&(this._clearDelegate(),this.graph.emit("afternodedragend"))},_clearDelegate:function(){var e=this.graph.get("addDelegateShape");e&&(e.remove(),this.graph.set("addDelegateShape",null),this.graph.paint()),this.graph.emit("afternodedragend")},_addNode:function(e){if(this.graph.get("addNodeDragging")){var t=this.graph.get("addModel"),a=t.clazz,i=void 0===a?"userTask":a;t.type=Object(o["getShapeName"])(i),t.shape=Object(o["getShapeName"])(i);var s=(new Date).getTime(),r=i+s,c=e.x,l=e.y;this.graph.executeCommand?this.graph.executeCommand("add",{type:"node",addModel:Object(n["a"])(Object(n["a"])({},t),{},{x:c,y:l,id:r})}):this.graph.add("node",Object(n["a"])(Object(n["a"])({},t),{},{x:c,y:l,id:r})),this._clearDelegate()}}})}},"9f51":function(e,t,a){e.exports=a.p+"static/img/icon_script.07c7423e.svg"},a6c4:function(e,t,a){"use strict";a.r(t),t["default"]=function(e){e.registerBehavior("deleteItem",{getEvents:function(){return{keydown:"onKeydown","canvas:mouseleave":"onCanvasLeave","canvas:mouseenter":"onCanvasFocus"}},onKeydown:function(e){var t=this.graph.get("selectedItems"),a=this.graph.get("focusGraphWrapper");console.log(e.keyCode),46===e.keyCode&&t&&t.length>0&&a&&(this.graph.executeCommand?this.graph.executeCommand("delete",{}):this.graph.remove(t[0]),this.graph.set("selectedItems",[]),this.graph.emit("afteritemselected",[])),1==e.ctrlKey&&90==e.keyCode&&(e.returnvalue=!1,this.graph.executeCommand&&this.graph.executeCommand("undo",{})),1==e.ctrlKey&&89==e.keyCode&&(e.returnvalue=!1,this.graph.executeCommand&&this.graph.executeCommand("redo",{})),1==e.ctrlKey&&67==e.keyCode&&(e.returnvalue=!1,this.graph.executeCommand&&this.graph.executeCommand("copy",{})),1==e.ctrlKey&&86==e.keyCode&&(e.returnvalue=!1,this.graph.executeCommand&&this.graph.executeCommand("paste",{}))},onCanvasLeave:function(e){this.graph.set("focusGraphWrapper",!1)},onCanvasFocus:function(){this.graph.set("focusGraphWrapper",!0)}})}},a9eb:function(e,t,a){"use strict";a.r(t),t["default"]={label:"Label",hideIcon:"Hide Icon",userTask:"User Task","userTask.assignType":"Assign Type","userTask.assignType.placeholder":"Select a assign type","userTask.assignType.assignee":"Assignee","userTask.assignType.assignee.title":"Assignee","userTask.assignType.assignee.placeholder":"Select Assignee","userTask.assignType.person":"Candidate Users","userTask.assignType.person.title":"Candidate Users","userTask.assignType.person.placeholder":"Select Candidate Users","userTask.assignType.persongroup":"Candidate Groups","userTask.assignType.persongroup.title":"Candidate Groups","userTask.assignType.persongroup.placeholder":"Select Candidate Groups","userTask.dueDate":"Due Date","userTask.dueDate.placeholder":"Select date","userTask.counterSign":"CounterSign",scriptTask:"Script Task","scriptTask.script":"Script",javaTask:"Java Task","javaTask.javaClass":"Java Class Name",mailTask:"Mail Task","mailTask.to":"To","mailTask.subject":"Subject","mailTask.content":"Content",receiveTask:"Receive Task","receiveTask.waitState":"Wait State","receiveTask.stateValue":"State Value",timerEvent:"Timer Event","timerEvent.cycle":"Cycle","timerEvent.cycle.placeholder":"Select time","timerEvent.duration":"Duration",messageEvent:"Message Event","messageEvent.message":"Message",signalEvent:"Signal Event","signalEvent.signal":"Signal",sequenceFlow:"Sequence Flow","sequenceFlow.expression":"Expression","sequenceFlow.seq":"Sequence","sequenceFlow.reverse":"Reverse",startEvent:"Start Event",endEvent:"End Event",start:"Start Events",end:"End Events",gateway:"Gateway",exclusiveGateway:"Exclusive Gateway",parallelGateway:"Parallel Gateway",inclusiveGateway:"Inclusive Gateway",task:"Task",catch:"Catching Event","tooltip.undo":"Undo","tooltip.redo":"Redo","tooltip.copy":"Copy","tooltip.paste":"Paste","tooltip.delete":"Delete","tooltip.zoomIn":"Zoom In","tooltip.zoomOut":"Zoom Out","tooltip.zoomReset":"Zoom Reset","tooltip.autoFit":"Auto Fit","tooltip.toFront":"To Front Layer","tooltip.toBack":"To Back Layer","tooltip.edit":"Edit","process.category":"Category","process.dataObjs":"Data Objects","process.signalDefs":"Signal Defs","process.messageDefs":"Message Defs","process.dataObjs.id":"Id","process.dataObjs.name":"Name","process.dataObjs.type":"Type","process.dataObjs.defaultValue":"DefaultValue","process.signalDef.scope":"Scope"}},acb2:function(e,t,a){e.exports=a.p+"static/img/user-task.90bd34cf.svg"},acc2:function(e,t,a){"use strict";a.r(t);a("cb29");var n=a("5530"),i=a("3b08"),o={icon:null,iconStyle:{width:12,height:12,left:2,top:2},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#E7F7FE",stroke:"#1890FF",cursor:"default"}),stateStyles:{selected:{fill:"#95D6FB"},hover:{cursor:i["default"].cursor.hoverNode}}},s={icon:null,iconStyle:{width:20,height:20,left:-10,top:-10},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#E8FEFA",stroke:"#13C2C2",cursor:"default"}),stateStyles:{selected:{fill:"#8CE8DE"},hover:{cursor:i["default"].cursor.hoverNode}}},r={icon:null,iconStyle:{width:23,height:23,left:16,top:16},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#FEF7E8",stroke:"#FA8C16",cursor:"default"}),stateStyles:{selected:{fill:"#FCD49A"},hover:{cursor:i["default"].cursor.hoverNode}}},c={icon:null,iconStyle:{width:23,height:23,left:16,top:16},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#EFF7E8",stroke:"#F5222D",cursor:"default"}),stateStyles:{selected:{fill:"#CFD49A"},hover:{cursor:i["default"].cursor.hoverNode}}},l={icon:null,iconStyle:{width:20,height:20,left:-10,top:-8},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#FEF7E8",stroke:"#FA8C16",cursor:"default"}),stateStyles:{selected:{fill:"#FCD49A"},hover:{cursor:i["default"].cursor.hoverNode}}};t["default"]=function(e){e.registerNode("task-node",{shapeType:"rect",options:Object(n["a"])({},o),getShapeStyle:function(e){e.size=[100,55];var t=e.size[0],a=e.size[1],i=Object(n["a"])({x:0-t/2,y:0-a/2,width:t,height:a},this.options.style);return i}},"base-node"),e.registerNode("gateway-node",{shapeType:"path",labelPosition:"bottom",options:Object(n["a"])({},s),getShapeStyle:function(e){e.size=[55,55];var t=e.size[0],a=e.size[1],i=4,o=Object(n["a"])({path:[["M",0-i,0-a/2+i],["Q",0,0-a/2,i,0-a/2+i],["L",t/2-i,0-i],["Q",t/2,0,t/2-i,i],["L",i,a/2-i],["Q",0,a/2,0-i,a/2-i],["L",-t/2+i,i],["Q",-t/2,0,-t/2+i,0-i],["Z"]]},this.options.style);return o}},"base-node"),e.registerNode("exclusive-gateway-node",{options:e.Util.deepMix({},s,{icon:a("6f6b")})},"gateway-node"),e.registerNode("parallel-gateway-node",{options:e.Util.deepMix({},s,{icon:a("2aea")})},"gateway-node"),e.registerNode("inclusive-gateway-node",{options:e.Util.deepMix({},s,{icon:a("001f")})},"gateway-node"),e.registerNode("start-node",{shapeType:"circle",labelPosition:"bottom",options:e.Util.deepMix({},r,{icon:a("d350")}),getShapeStyle:function(e){e.size=[55,55];var t=e.size[0],a=Object(n["a"])({x:0,y:0,r:t/2},this.options.style);return e.hasOwnProperty("color")&&(a.fill=e.color),a},afterDraw:function(e,t){if(e.active){var a=t.get("children")[0];a.animate({repeat:!0,onFrame:function(t){var a=t<=.5?10*t:10*(1-t),n=e.size;return isNaN(n)&&(n=n[0]),{r:n/2+a}}},3e3,"easeCubic")}},getAnchorPoints:function(){return[[.5,0],[1,.5],[.5,1]]}},"base-node"),e.registerNode("end-node",{shapeType:"circle",labelPosition:"bottom",options:e.Util.deepMix({},c,{icon:a("5265")}),getShapeStyle:function(e){e.size=[55,55];var t=e.size[0],a=Object(n["a"])({x:0,y:0,r:t/2},this.options.style);return e.hasOwnProperty("color")&&(a.fill=e.color),a},afterDraw:function(e,t){e.active},getAnchorPoints:function(){return[[.5,0],[.5,1],[0,.5]]}},"base-node"),e.registerNode("catch-node",{shapeType:"path",labelPosition:"bottom",options:Object(n["a"])({},l),getShapeStyle:function(e){e.size=[70,55];var t=e.size[0],a=e.size[1],i=Object(n["a"])({path:[["M",0,-a/3],["L",t/2,-a/3],["L",0,a/3*2],["L",-t/2,-a/3],["Z"]]},this.options.style);return i},getAnchorPoints:function(){return[[.5,0],[.8,.38],[.5,1],[.2,.38]]}},"base-node"),e.registerNode("user-task-node",{options:e.Util.deepMix({},o,{icon:a("20fa"),style:{fill:"#E7F7FE",stroke:"#1890FF"},stateStyles:{selected:{fill:"#95D6FB"}}})},"task-node"),e.registerNode("script-task-node",{options:e.Util.deepMix({},o,{icon:a("9f51"),style:{fill:"#FFF7E6",stroke:"#FFA940"},stateStyles:{selected:{fill:"#FFE7BA"}}})},"task-node"),e.registerNode("java-task-node",{options:e.Util.deepMix({},o,{icon:a("c9e2"),style:{fill:"#FFF1F0",stroke:"#FF4D4F"},stateStyles:{selected:{fill:"#FFCCC7"}}})},"task-node"),e.registerNode("mail-task-node",{options:e.Util.deepMix({},o,{icon:a("de0e"),style:{fill:"#F6FFED",stroke:"#73D13D"},stateStyles:{selected:{fill:"#D9F7BE"}}})},"task-node"),e.registerNode("receive-task-node",{options:e.Util.deepMix({},o,{icon:a("3b9e"),style:{fill:"#FFF0F6",stroke:"#FF85C0"},stateStyles:{selected:{fill:"#FFD6E7"}}})},"task-node"),e.registerNode("timer-start-node",{options:e.Util.deepMix({},r,{icon:a("d11a")}),afterDraw:function(e,t){this.runAnimate(e,t)}},"start-node"),e.registerNode("message-start-node",{options:e.Util.deepMix({},r,{icon:a("b840")}),afterDraw:function(e,t){this.runAnimate(e,t)}},"start-node"),e.registerNode("signal-start-node",{options:e.Util.deepMix({},r,{icon:a("21a1")}),afterDraw:function(e,t){this.runAnimate(e,t)}},"start-node"),e.registerNode("timer-catch-node",{options:e.Util.deepMix({},l,{icon:a("d11a")})},"catch-node"),e.registerNode("signal-catch-node",{options:e.Util.deepMix({},l,{icon:a("21a1")})},"catch-node"),e.registerNode("message-catch-node",{options:e.Util.deepMix({},l,{icon:a("b840")})},"catch-node")}},ad5f:function(e,t,a){e.exports=a.p+"static/img/exclusive-gateway.56b82dfd.svg"},aeda:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["endEvent"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("el-checkbox",{attrs:{disabled:e.readOnly,value:!!e.model.success},on:{change:function(t){return e.onChange("success",t)}}},[e._v("是否成功")])],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},b840:function(e,t,a){e.exports=a.p+"static/img/icon_message.01031aed.svg"},bf2b:function(e,t,a){"use strict";a.r(t);var n=a("7a1f"),i=a("4357"),o=a("d8cb"),s=a("acc2"),r=a("1b27"),c=a("cfdf");t["default"]=function(e){Object(n["default"])(e),Object(i["default"])(e),Object(o["default"])(e),Object(s["default"])(e),Object(r["default"])(e),Object(c["default"])(e)}},c0d1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["mailTask"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["mailTask.to"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.to},on:{input:function(t){e.onChange("to",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["mailTask.subject"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.subject},on:{input:function(t){e.onChange("subject",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["mailTask.content"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{type:"textarea",rows:4,disabled:e.readOnly,value:e.model.content},on:{input:function(t){e.onChange("content",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},c60d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(" "+e._s("exclusiveGateway"===e.model.clazz||"gateway"===e.model.clazz?e.i18n["exclusiveGateway"]:"parallelGateway"===e.model.clazz?e.i18n["parallelGateway"]:e.i18n["inclusiveGateway"])+" ")]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}})],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},c839:function(e,t,a){},c9e2:function(e,t,a){e.exports=a.p+"static/img/icon_java.d3cc233a.svg"},ce44:function(e,t,a){"use strict";a.r(t);var n=a("d4ec"),i=a("bee2"),o=a("8937"),s=a("7c8a"),r=function(){function e(t){Object(n["a"])(this,e),this._cfgs=Object(o["deepMix"])(this.getDefaultCfg(),t)}return Object(i["a"])(e,[{key:"getDefaultCfg",value:function(){return{container:null}}},{key:"get",value:function(e){return this._cfgs[e]}},{key:"set",value:function(e,t){this._cfgs[e]=t}},{key:"initPlugin",value:function(e){var t=this;this.set("graph",e);var a=t.getEvents(),n={};Object(o["each"])(a,(function(a,i){var s=Object(o["wrapBehavior"])(t,a);n[i]=s,e.on(i,s)})),this._events=n,this.initEvents(),this.updateToolbar()}},{key:"getEvents",value:function(){return{afteritemselected:"updateToolbar",aftercommandexecute:"updateToolbar"}}},{key:"initEvents",value:function(){var e=this.get("graph"),t=this.get("container"),a=t.querySelectorAll("div > span[data-command]");Object(o["each"])(a,(function(t,a){var n=t.getAttribute("data-command");t.addEventListener("click",(function(t){e.commandEnable(n)&&e.executeCommand(n)}))}))}},{key:"updateToolbar",value:function(){var e=this.get("graph"),t=this.get("container"),a=t.querySelectorAll("div > span[data-command]");Object(o["each"])(a,(function(t,a){var n=t.getAttribute("data-command");e.commandEnable(n)?(Object(s["b"])(t,{cursor:"pointer"}),Object(s["b"])(t.children[0],{color:"#666"}),t.children[0].setAttribute("color","#666")):(Object(s["b"])(t,{cursor:"default"}),Object(s["b"])(t.children[0],{color:"#bfbfbf"}),t.children[0].setAttribute("color","#bfbfbf"))}))}},{key:"destroyPlugin",value:function(){this.get("canvas").destroy();var e=this.get("container");e.parentNode.removeChild(e)}}]),e}();t["default"]=r},cfdf:function(e,t,a){"use strict";a.r(t);a("cb29"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("a434"),a("159b");var n=a("5530"),i=a("3b08"),o=a("51d2"),s=a("7708"),r=a("0518"),c=a("2b81");t["default"]=function(e){e.registerNode("sub-process-node",{shapeType:"rect",options:{icon:null,iconStyle:{width:12,height:12,left:2,top:2},style:Object(n["a"])(Object(n["a"])({},i["default"].nodeStyle),{},{fill:"#FFFFFF",stroke:"#1890FF",cursor:"default"}),stateStyles:{selected:{fill:"#E7F7FE"},addNode:{fill:"#E7F7FE"},hover:{cursor:i["default"].cursor.hoverNode}}},drawControlPoints:function(e){var t=e.get("children")[0].getBBox();this.getControlPoints().forEach((function(a,n){var i=e.addGroup(),o="default";0===a[0]&&0===a[1]?o="nwse-resize":0===a[0]&&.5===a[1]?o="ew-resize":1===a[0]&&0===a[1]?o="nesw-resize":1===a[0]&&.5===a[1]?o="ew-resize":1===a[0]&&1===a[1]?o="nwse-resize":.5===a[0]&&1===a[1]?o="ns-resize":0===a[0]&&1===a[1]?o="nesw-resize":.5===a[0]&&0===a[1]&&(o="ns-resize");var r=new s["default"]({group:i,index:n,model:{style:{x:t.minX+t.width*a[0],y:t.minY+t.height*a[1],cursor:o}}});r.toFront(),e.controlPointShapes.push(i),e.getAllAnchors=function(){return e.controlPointShapes},e.getAnchor=function(t){return e.controlPointShapes.filter((function(e){return e.get("index")===t}))}}))},drawNodes:function(e,t){var a=[];return e.content&&e.content.nodes&&e.content.nodes.forEach((function(i){var s=t.addGroup(),c=new r({group:s,capture:!1,id:i.id,groupId:e.id,model:Object(n["a"])(Object(n["a"])({},i),{},{shape:Object(o["getShapeName"])(i.clazz)})});c.toFront(),i.shape=Object(o["getShapeName"])(i.clazz),a.push(c)})),a},drawEdges:function(t,a){var i=[];return t.content&&t.content.edges&&t.content.edges.forEach((function(t){var o=t.source,s=t.target;o&&e.Util.isString(o)&&(o=a.findById(o),o=o.get("item")),s&&e.Util.isString(s)&&(s=a.findById(s),s=s.get("item"));var r=a.addGroup(),l=new c({group:r,capture:!1,source:o,target:s,id:t.id,model:Object(n["a"])(Object(n["a"])({},t),{},{shape:"flow-polyline-round"})});l.toFront();var d=l.get("model");t.startPoint=d.startPoint,t.endPoint=d.endPoint,t.shape="flow-polyline-round",i.push(l)})),i},_addNode:function(e,t){var a=e.get("model"),n=a.content?a.content.nodes:[],i=a.content?a.content.edges:[];return n.push(t),{content:{nodes:n,edges:i}}},_addEdge:function(e,t){var a=e.get("model"),n=a.content?a.content.nodes:[],i=a.content?a.content.edges:[];return i.push(t),{content:{nodes:n,edges:i}}},_updateNode:function(e,t,a){var n=e.get("model"),i=n.content?n.content.nodes:[],o=n.content?n.content.edges:[],s=i.find((function(e){return e.id===t}));return Object.assign(s,a),{content:{nodes:i,edges:o}}},_getItem:function(e,t){var a=e.getContainer();return a.nodes.find((function(e){return e.get("id")===t}))},_removeItem:function(e,t){var a=e.get("model");if(a&&a.content){var n=a.content.nodes.findIndex((function(e){return e.id===t}));if(-1!==n)return a.content.nodes.splice(n,1),{content:a.content};if(n=a.content.edges.findIndex((function(e){return e.id===t})),-1!==n)return a.content.edges.splice(n,1),{content:a.content}}return{}},drawShape:function(e,t){var a=this,i=this.shapeType,o=this.getShapeStyle(e),s=t.addShape(i,{attrs:Object(n["a"])({},o)});this.drawIcon(e,t),this.initAnchor(t);var r=t.addGroup({id:"sub_"+e.id});t.subGroup=r;var c=this.drawNodes(e,r),l=this.drawEdges(e,r);return t.nodes=c,t.edges=l,t.controlPointShapes=[],t.showControlPoints=function(e){a.drawControlPoints(e)},t.clearControlPoints=function(e){e.controlPointShapes&&e.controlPointShapes.forEach((function(e){return e.remove()})),e.controlPointShapes=[]},t.addNodeModel=function(e,t){return a._addNode(e,t)},t.addEdgeModel=function(e,t){return a._addEdge(e,t)},t.updateNodeModel=function(e,t,n){return a._updateNode(e,t,n)},t.getItem=function(e,t){return a._getItem(e,t)},t.removeItem=function(e,t){return a._removeItem(e,t)},s},setCustomState:function(e,t,a){var n=a.getContainer();if("selected"===e){var i=n.getChildByIndex(0);t?(n.clearAnchor(n),n.showControlPoints(n),i.attr("fill",this.options.stateStyles.selected.fill)):(n.clearControlPoints(n),i.attr("fill",this.options.style.fill))}},getControlPoints:function(){return[[0,0],[.5,0],[1,0],[1,.5],[1,1],[.5,1],[0,1],[0,.5]]},getShapeStyle:function(e){e.size&&Array.isArray(e.size)||(e.size=[80,44]);var t=e.size[0],a=e.size[1],i=Object(n["a"])({x:0-t/2,y:0-a/2,width:t,height:a},this.options.style);return i},afterUpdate:function(e,t){t.getBBox();var a=t.getContainer(),n=a.subGroup;if(n){n.clear();var i=this.drawNodes(e,n),o=this.drawEdges(e,n);a.nodes=i,a.edges=o}}},"base-node")}},d11a:function(e,t,a){e.exports=a.p+"static/img/icon_timer.b4fcbba6.svg"},d2be:function(e,t,a){"use strict";var n=a("1097"),i=a.n(n);i.a},d350:function(e,t,a){e.exports=a.p+"static/img/start.ac33b349.svg"},d856:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detailPanel",style:{height:e.height+"px"}},["userTask"===e.model.clazz?a("UserTaskDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly,users:e.users,authorities:e.authorities,groups:e.groups}}):"scriptTask"===e.model.clazz?a("ScriptTaskDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"receiveTask"===e.model.clazz?a("ReceiveTaskDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"mailTask"===e.model.clazz?a("MailTaskDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"timerStart"===e.model.clazz||"timerCatch"===e.model.clazz?a("TimerEventDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"messageStart"===e.model.clazz||"messageCatch"===e.model.clazz?a("MessageEventDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly,messageDefs:e.messageDefs}}):"gateway"===e.model.clazz||"exclusiveGateway"===e.model.clazz||"parallelGateway"===e.model.clazz||"inclusiveGateway"===e.model.clazz?a("GatewayDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"flow"===e.model.clazz?a("FlowDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"start"===e.model.clazz?a("StartEventDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"end"===e.model.clazz?a("EndEventDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}):"process"===e.model.clazz?a("ProcessDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly,categorys:e.categorys}}):e._e()],1)},i=[],o=(a("a9e3"),a("6733")),s=a("e48c"),r=a("f223"),c=a("c0d1"),l=a("7c0c"),d=a("c60d"),u=a("93a4"),h=a("19f0"),g=a("aeda"),p=a("74c6"),f={inject:["i18n"],components:{UserTaskDetail:o["default"],ScriptTaskDetail:s["default"],ReceiveTaskDetail:r["default"],MailTaskDetail:c["default"],TimerEventDetail:l["default"],GatewayDetail:d["default"],FlowDetail:u["default"],StartEventDetail:h["default"],EndEventDetail:g["default"],ProcessDetail:p["default"]},props:{height:{type:Number,default:800},model:{type:Object,default:function(){return{}}},users:{type:Array,default:function(){return[]}},authorities:{type:Array,default:function(){return[]}},groups:{type:Array,default:function(){return[]}},categorys:{type:Array,default:function(){return[]}},signalDefs:{type:Array,default:function(){return[]}},messageDefs:{type:Array,default:function(){return[]}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},m=f,v=(a("6e07"),a("2877")),y=Object(v["a"])(m,n,i,!1,null,null,null);t["default"]=y.exports},d8cb:function(e,t,a){"use strict";a.r(t);a("99af"),a("cb29"),a("4de4"),a("4160"),a("d81d"),a("159b");var n=a("5530"),i=a("3b08"),o=a("487e"),s=[[0,1],[0,2],[1,2],[0,1,1,2],[0,2,1,2],[1,2,1,2],[2,2,1,2],[3,2,1,2],[4,2,1,2]],r=9,c=[4,2,1,2],l={options:{icon:null,iconStyle:{width:14,height:14,left:0,top:0},style:{fill:"#f9f9f9",stroke:"#bbb",cursor:"default"},stateStyles:{selected:{fill:"#eee"},hover:{cursor:i["default"].cursor.hoverNode}}},drawAnchor:function(e){var t=e.get("children")[0].getBBox();this.getAnchorPoints().forEach((function(a,n){var i=e.addGroup();new o["default"]({group:i,index:n,model:{style:{x:t.minX+t.width*a[0],y:t.minY+t.height*a[1]}}});e.anchorShapes.push(i)}))},initAnchor:function(e){var t=this;e.anchorShapes=[],e.showAnchor=function(){t.drawAnchor(e)},e.getAllAnchors=function(){return e.anchorShapes.map((function(e){e.filter((function(e){return e.isAnchor}))}))},e.getAnchor=function(t){return e.anchorShapes.filter((function(e){return e.get("index")===t}))},e.clearAnchor=function(){e.anchorShapes&&e.anchorShapes.forEach((function(e){return e.remove()})),e.anchorShapes=[]},e.clearHotpotActived=function(){e.anchorShapes&&e.anchorShapes.forEach((function(e){e.isAnchor&&e.setHotspotActived(!1)}))}},drawShape:function(e,t){var a=this.shapeType,i=this.getShapeStyle(e),o=t.addShape(a,{attrs:Object(n["a"])({},i)});return this.drawIcon(e,t),this.initAnchor(t),o},drawIcon:function(e,t){var a=this.getShapeStyle(e);if(this.options.icon){var i={x:a.x+this.options.iconStyle.left,y:a.y+this.options.iconStyle.top,width:this.options.iconStyle.width,height:this.options.iconStyle.height};"circle"===this.shapeType?i={x:a.x-a.r+this.options.iconStyle.left,y:a.y-a.r+this.options.iconStyle.top,width:this.options.iconStyle.width,height:this.options.iconStyle.height}:"path"===this.shapeType&&(i={x:this.options.iconStyle.left,y:this.options.iconStyle.top,width:this.options.iconStyle.width,height:this.options.iconStyle.height}),t.icon=t.addShape("image",{attrs:Object(n["a"])({img:this.options.icon},i),draggable:!0}),e.hideIcon&&t.icon.hide()}},setState:function(e,t,a){var n=a.getContainer();if("show-anchor"===e)t?n.showAnchor():n.clearAnchor();else if("selected"===e){var i=n.getChildByIndex(0);t?i.attr("fill",this.options.stateStyles.selected.fill):i.attr("fill",this.options.style.fill)}else if("hover"===e){var o=n.getChildByIndex(0),s=n.getChildByIndex(1);t?(o.attr("cursor",this.options.stateStyles.hover.cursor),s&&s.attr("cursor",this.options.stateStyles.hover.cursor)):(o.attr("cursor",this.options.style.cursor),s&&s.attr("cursor",this.options.style.cursor))}this.setCustomState(e,t,a)},setCustomState:function(e,t,a){},getAnchorPoints:function(){return[[.5,0],[1,.5],[.5,1],[0,.5]]},runAnimate:function(e,t){if(e.active){var a=[],n=0,i=t.getFirst();i.animate((function(e){for(var t=0;t<9;t+=r)a=a.concat(c);var i={lineDash:s[n].concat(a)};return n=(n+1)%r,i}),{repeat:!0,duration:5e3})}},afterDraw:function(e,t){this.runAnimate(e,t)},afterUpdate:function(e,t){var a=t.get("group").icon;e.hideIcon&&a&&a.get("visible")?a.hide():e.hideIcon||!a||a.get("visible")||a.show()}};t["default"]=function(e){e.registerNode("base-node",l,"single-node")}},de0e:function(e,t,a){e.exports=a.p+"static/img/icon_mail.0f68d5c7.svg"},e404:function(e,t,a){},e48c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["scriptTask"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["scriptTask.script"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{type:"textarea",rows:4,disabled:e.readOnly,value:e.model.script},on:{input:function(t){e.onChange("script",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},eda5:function(e,t,a){"use strict";a.r(t);var n=a("92ca");t["default"]=function(e){e.registerBehavior("hoverNodeActived",{getEvents:function(){return{"node:mouseenter":"onNodeEnter","node:mouseleave":"onNodeLeave","anchor:mouseleave":"onAnchorLeave"}},onAnchorLeave:function(e){var t=e.item.getContainer().getParent();t&&!this.graph.get("edgeDragging")&&this.graph.setItemState(t.get("item"),"show-anchor",!1)},onNodeEnter:function(e){var t=e.item.getModel().clazz;"endEvent"===t||this.graph.get("edgeDragging")||this.graph.setItemState(e.item,"show-anchor",!0)},onNodeLeave:function(e){e.target instanceof n["Marker"]||this.graph.get("edgeDragging")||this.graph.setItemState(e.item,"show-anchor",!1)}})}},f223:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{"data-clazz":e.model.clazz}},[a("div",{staticClass:"panelTitle"},[e._v(e._s(e.i18n["receiveTask"]))]),a("div",{staticClass:"panelBody"},[a("DefaultDetail",{attrs:{model:e.model,onChange:e.onChange,readOnly:e.readOnly}}),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["receiveTask.waitState"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.waitState},on:{input:function(t){e.onChange("waitState",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v(e._s(e.i18n["receiveTask.stateValue"])+"：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.stateValue},on:{input:function(t){e.onChange("stateValue",t)}}})],1),a("div",{staticClass:"panelRow"},[a("div",[e._v("步骤：")]),a("el-input",{staticStyle:{width:"90%","font-size":"12px"},attrs:{disabled:e.readOnly,value:e.model.step,placeholder:"请输入步骤"},on:{input:function(t){e.onChange("step",t)}}})],1)],1)])},i=[],o=a("2589"),s={inject:["i18n"],components:{DefaultDetail:o["default"]},props:{model:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},readOnly:{type:Boolean,default:!1}}},r=s,c=a("2877"),l=Object(c["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},f934:function(e,t,a){"use strict";a.r(t);var n=a("8937"),i=a("e897");t["default"]=function(e){var t=e.Util.mix;e.registerBehavior("itemAlign",{getDefaultCfg:function(){return{alignLineStyle:{stroke:"#FA8C16",lineWidth:1},tolerance:5,_alignLines:[]}},getEvents:function(){return{afternodedrag:"onDrag",afternodedragend:"onDragEnd"}},onDrag:function(e){this._clearAlignLine(),this._itemAlign(e)},onDragEnd:function(){this._clearAlignLine()},_itemAlign:function(e){var t=this,a=e.getBBox(),i={x:a.x+a.width/2,y:a.y},o={x:a.x+a.width/2,y:a.y+a.height/2},s={x:a.x+a.width/2,y:a.y+a.height},r={x:a.x,y:a.y+a.height/2},c={x:a.x+a.width,y:a.y+a.height/2},l=this.graph.getNodes();Object(n["each"])(l,(function(l){var d=[],u=[],h=null,g=l.getBBox();if(Object(n["each"])(t.getHorizontalLines(g),(function(e){d.push(t.getDistance(e,i)),d.push(t.getDistance(e,o)),d.push(t.getDistance(e,s))})),Object(n["each"])(t.getVerticalLines(g),(function(e){u.push(t.getDistance(e,r)),u.push(t.getDistance(e,o)),u.push(t.getDistance(e,c))})),d.sort((function(e,t){return e.dis-t.dis})),u.sort((function(e,t){return e.dis-t.dis})),d.length>0&&d[0].dis<t.tolerance){e.attr({y:d[0].line[1]-d[0].point.y+a.y}),h={horizontals:[d[0]]};for(var p=1;p<3;p++)d[0].dis===d[p].dis&&h.horizontals.push(d[p])}if(u.length>0&&u[0].dis<t.tolerance){e.attr({x:u[0].line[0]-u[0].point.x+a.x}),h?h.verticals=[u[0]]:h={verticals:[u[0]]};for(var f=1;f<3;f++)u[0].dis===u[f].dis&&h.verticals.push(u[f])}h&&(h.bbox=a,t._addAlignLine(h))}))},_addAlignLine:function(e){var a=this.graph.get("group"),i=e.bbox,o=this.alignLineStyle,s=this._alignLines;e.horizontals&&Object(n["each"])(e.horizontals,(function(e){var n,r,c=e.line,l=e.point,d=(c[0]+c[2])/2;l.x<d?(n=l.x-i.width/2,r=Math.max(c[0],c[2])):(n=l.x+i.width/2,r=Math.min(c[0],c[2]));var u=a.addShape("line",{attrs:t({x1:n,y1:c[1],x2:r,y2:c[1]},o),capture:!1});s.push(u)})),e.verticals&&Object(n["each"])(e.verticals,(function(e){var n,r,c=e.line,l=e.point,d=(c[1]+c[3])/2;l.y<d?(n=l.y-i.height/2,r=Math.max(c[1],c[3])):(n=l.y+i.height/2,r=Math.min(c[1],c[3]));var u=a.addShape("line",{attrs:t({x1:c[0],y1:n,x2:c[0],y2:r},o),capture:!1});s.push(u)}))},getHorizontalLines:function(e){return[[e.minX,e.minY,e.maxX,e.minY],[e.minX,e.centerY,e.maxX,e.centerY],[e.minX,e.maxY,e.maxX,e.maxY]]},getVerticalLines:function(e){return[[e.minX,e.minY,e.minX,e.maxY],[e.centerX,e.minY,e.centerX,e.maxY],[e.maxX,e.minY,e.maxX,e.maxY]]},getDistance:function(e,t){return{line:e,point:t,dis:this.pointLineDistance(e[0],e[1],e[2],e[3],t.x,t.y)}},pointLineDistance:function(e,t,a,n,o,s){var r=[a-e,n-t];if(i["vec2"].exactEquals(r,[0,0]))return NaN;var c=[-r[1],r[0]];return i["vec2"].normalize(c,c),Math.abs(i["vec2"].dot([o-e,s-t],c))},_clearAlignLine:function(){Object(n["each"])(this._alignLines,(function(e){e.remove()})),this._alignLines=[],this.graph.paint()}})}}}]);